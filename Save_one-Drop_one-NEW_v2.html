<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="images/icone.png">
    <title>Save one Drop one</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <h1><span class="color1">K-Pop</span> <span class="color2">Website</span></h1>
        <h2 class="subtitle">Save one Drop one</h2>
    </header>

    <nav>
        <ul>
            <li><a href="index.html"><img src="./images/Accueil.png" alt="Accueil"></a></li>
            <li><a href="Save_one-Drop_one.html"><img src="./images/Save_one-Drop_one.png" alt="Save One Drop One"></a></li>
            <li><a href="Blind_ranking.html"><img src="./images/Blind_ranking.png" alt="Blind Ranking"></a></li>
            <li><a href="Blind_test.html"><img src="./images/Blind_test.png" alt="Blind Test"></a></li>
            <li><a href="Statistiques.html"><img src="./images/Statistiques.png" alt="Statistiques"></a></li>
        </ul>
    </nav>

    <!-- MENU CONFIGURATION -->
    <div id="menu-container" class="menu-container">
        <div class="start-button-container">
            <h2>Configuration du challenge</h2>
        </div>
        <div id="options-menu">
            <div id="players-container">
                <h3>Joueurs :</h3>
                <div class="player-entry">
                    Joueur 1 : <input type="text" placeholder="Joueur 1">
                </div>
            </div>
            <button id="add-player">+ Ajouter un joueur</button>
            <HR>
            <div>
                <h3>Nombre de jokers ?</h3>
                <label><input type="radio" name="joker" value="0" checked> Aucun</label><br>
                <label><input type="radio" name="joker" value="custom"> Un seul ou plus :</label>
                <input type="number" id="joker-count" min="1" value="1" disabled>
                <br>
                <label><input type="radio" name="joker" value="infinite"> Infinis</label>
            </div>
        </div>
        <div class="start-button-container">
            <button id="start-button">Commencer !</button>
        </div>
    </div>
    <!-- FIN DU MENU -->

    <!-- Mode vidéo 1 -->
    <div id="single-video" class="single-video hidden">
        <video width="1440" height="810" id="videoA" controls></video>
    </div>

    <!-- Mode vidéo 2 -->
    <div id="second-video" class="single-video hidden">
        <video width="1440" height="810" id="videoB" controls></video>
    </div>

    <!-- Mode deux vidéos pour le choix -->
    <div id="dual-videos" class="video-container hidden">
        <video id="choiceA" width="320" height="180" muted autoplay loop></video>
        <video id="choiceB" width="320" height="180" muted autoplay loop></video>
    </div>

<script>
    const videoSources = [
        './videos/001-War_of_hormones-BTS.mp4',
        './videos/002-Hellevator-Stray_kids.mp4',
        './videos/003-Gidle-Latata.mp4',
        './videos/004-Monster-Exo.mp4',
        './videos/005-Crazy_form-Ateez.mp4',
        './videos/006-Solo-Jennie.mp4',
        './videos/007-Beautiful-Wanna_one.mp4',
        './videos/008-Red_lights-Stray_Kids.mp4',
        './videos/009-Scream-Dreamcatcher.mp4',
        './videos/010-Save_me-BTS.mp4',
        './videos/011-Fact_check-NCT_127.mp4',
        './videos/012-Ddu_du_ddu_du-BlackPink.mp4',
        './videos/013-Agust_D-Agust_D.mp4',
        './videos/014-Loser_lover-TXT.mp4',
        './videos/015-Maria-Hwa_sa.mp4',
        './videos/016-Run-BTS.mp4',
        './videos/017-Loco-Itzy.mp4',
        './videos/018-Fever-Enhypen.mp4',
        './videos/019-Miroh-Stray_Kids.mp4',
        './videos/020-One_spark-Twice.mp4',
        './videos/021-Rock_with_you-Seventeen.mp4',
        './videos/022-That_that-Psy.mp4'
    ];

    let firstVideo = '';
    let secondVideo = '';

    window.onload = () => {
        // Masquer les vidéos jusqu'à ce que le challenge démarre via le bouton "Commencer !"
    };

    // Gestion des jokers input
    document.querySelectorAll('input[name="joker"]').forEach(radio => {
        radio.addEventListener('change', function () {
            document.getElementById('joker-count').disabled = (this.value !== 'custom');
        });
    });

    // Ajouter joueur
    document.getElementById('add-player').addEventListener('click', () => {
        const container = document.getElementById('players-container');
        const count = container.querySelectorAll('.player-entry').length;
        if (count < 9) {
            const div = document.createElement('div');
            div.className = 'player-entry';
            div.innerHTML = `Joueur ${count + 1} : <input type="text" placeholder="Joueur ${count + 1}">`;
            container.appendChild(div);
        }
    });

    // Démarrer le challenge via le menu
    document.getElementById('start-button').addEventListener('click', () => {
        console.log('Bouton Commencer cliqué');
        document.getElementById('menu-container').classList.add('hidden');
        startChallenge();
    });


    // Fonction pour démarrer le challenge
    function startChallenge() {
        // Sélectionner deux vidéos aléatoires
        const firstVideoIndex = Math.floor(Math.random() * videoSources.length);
        let secondVideoIndex = Math.floor(Math.random() * videoSources.length);
        
        // Assurez-vous que les deux vidéos ne sont pas les mêmes
        while (firstVideoIndex === secondVideoIndex) {
            secondVideoIndex = Math.floor(Math.random() * videoSources.length);
        }

        // Définir les vidéos sources
        firstVideo = videoSources[firstVideoIndex];
        secondVideo = videoSources[secondVideoIndex];

        // Assigner les vidéos aux éléments HTML
        document.getElementById('videoA').src = firstVideo;
        document.getElementById('videoB').src = secondVideo;
    }
</script>

</body>
</html>
